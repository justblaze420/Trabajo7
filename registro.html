<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Registro</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
</head>

<body text="white" bgcolor="black">
    <center>
        <h1 id="mensaje"></h1>
        <h2 id="Apellidos"></h2>
        <p id="correo"></p>
        <p id="telefono"></p>
        <p id="edad"></p>

    <script>
        getParameter = (key) => {

            address = window.location.search; // url de la ventana actual

            // Objeto de tipo URLSearchParams
            parameterList = new URLSearchParams(address);

            // Regresa el valor del parámetro "key" return parameterList.get(key)
            return parameterList.get(key);
        }

        var correo = parameterList.get('Correo');
        var telefono = parameterList.get('Telefono');
        var fechaNacimiento = new Date(parameterList.get('FechaNacimiento'));

        function funcion() {
            alert("se cambio el input");
        }

        function verificarContrasenas() {
            var contrasena = document.getElementById('contrasena').value;
            var repetirContrasena = document.getElementById('repetirContrasena').value;

            if (contrasena !== repetirContrasena) {
                document.getElementById('mensajeError').textContent = 'Las contraseñas no coinciden';
                return false; // Evita que el formulario se envíe
            }

            if (contrasena.length < 5) {
                document.getElementById('mensajeError').textContent = 'La contraseña debe tener al menos 5 caracteres';
                return false; // Evita que el formulario se envíe
            }

            return true; // Permite el envío del formulario si las contraseñas coinciden y tienen al menos 5 caracteres
        }


        console.log(getParameter("Nombre"));
        var nombre = getParameter("Nombre");

        if (nombre != null) {
            document.getElementById("mensaje").innerHTML = "Bienvenido/a " + nombre;
        }

        console.log(getParameter("Apellidos"));
        var Apellidos = getParameter("Apellidos");

        if (Apellidos != null) {
            document.getElementById("Apellidos").innerHTML = "Apellidos: " + Apellidos;
        }

        document.getElementById('correo').innerHTML = '<a href="mailto:' + correo + '">' + correo + '</a>';
        document.getElementById('telefono').innerHTML = '<a href="tel:' + telefono + '">' + telefono + '</a>';

        var edad = calcularEdad(fechaNacimiento);
        document.getElementById('edad').innerHTML = 'Edad: ' + edad + ' años';

        function calcularEdad(fechaNacimiento) {
            var fechaActual = new Date();
            var edad = fechaActual.getFullYear - fechaNacimiento.getFullYear();

            var diferenciaMeses = fechaActual.getMonth() - fechaNacimiento.getMonth();
            if (diferenciaMeses < 0 || (diferenciaMeses === 0 && fechaActual.getDate() < fechaNacimiento.getDate())) {
                edad--;
            }

            return edad;
        }



    </script>
    <h6>©Robbie Daniel Mejia Arroyo</h6>
</center>
</body>

</html>

</html>